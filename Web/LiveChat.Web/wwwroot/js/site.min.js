let connection=null;setupConnection=()=>{function n(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}connection=(new signalR.HubConnectionBuilder).withUrl("/chat").build();connection.on("NewMessage",function(t){var i=`<div id=${t.id}>[${t.user}] ${n(t.text)} [${t.dateOfMessage}]
                                <button class="btn btn-primary delete">Delete Message </button>
                                </div>`;$("#messagesList").append(i)});connection.on("Notification",function(n,t){alert(`You Have new message: ${n} from: ${t}`)});connection.on("UsersList",function(n){var t=`<div>[UserName: ][${n}]</div>`;$("#notificationsList").append(t)});$("#sendButton").click(function(){var n=$("#messageInput").val();fetch("/Chat/Notification",{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}}).then(connection.invoke("Send",n));$("#messageInput").val("")});$("#delete").click(function(){var n=this.parentElement.id;connection.invoke("DeleteMessage",n);$("#messageId").remove()});$("#loadHistoryButton").click(function(){connection.invoke("LoadHistory")});$("#getAllParticipants").click(function(){connection.invoke("LoadParticipants")});connection.start().catch(function(n){return console.error(n.toString())})};setupConnection();